require("gps",function(n,t){function o(n){navigator.geolocation.watchPosition(function(t){i=t,e=30,n(self)},function(n){console.info("[gps] err=...",n)},{enableHighAccuracy:!0,maximumAge:0})}var i=null,e=0,r={0:"Not started.",1:"PERMISSION DENIED",2:"UNAVAILABLE POSITION",3:"TIME OUT",9:"device without GPS antenna",10:"waiting for first point",20:"waiting for next point",30:"ok"};n.getPosition=function(){return i},n.getStatus=function(){return e},n.getStatusText=function(){return r[e]},n.init=function(n){"undefined"==typeof n&&(n=function(){}),e=0,"geolocation"in navigator?(e=10,navigator.geolocation.getCurrentPosition(function(t){i=t,e=20,n(),o(n)},function(t){console.info("[gps] err=...",t),1==t.code&&(e=1,n())})):e=9,n()}});
//# sourceMappingURL=gps.js.map